<select name="" id="year" class="month_picker input-small" data-value="<%= @year %>">
  <option value="2012">2012</option>
  <option value="2013">2013</option>
  <option value="2014">2014</option>
  <option value="2015">2015</option>
  <option value="2016">2016</option>
</select>
年
<select name="" id="month" class="month_picker input-small" data-value="<%= @month %>">
  <option value="1">1</option>
  <option value="2">2</option>
  <option value="3">3</option>
  <option value="4">4</option>
  <option value="5">5</option>
  <option value="6">6</option>
  <option value="7">7</option>
  <option value="8">8</option>
  <option value="9">9</option>
  <option value="10">10</option>
  <option value="11">11</option>
  <option value="12">12</option>
</select>
月

<table id="calendar" class="table table-bordered">
  <tr>
    <th>日</th>
    <th>一</th>
    <th>二</th>
    <th>三</th>
    <th>四</th>
    <th>五</th>
    <th>六</th>
  </tr>

  <input id="year" type="hidden" value="<%= @year %>">

  <% @calendar_data.each_with_index do |x, i| %>

      <%= tag('tr') if i % 7 == 0 %>

        <td data-id="<%= x.con_id %>">
          <% if x.day != 0 %>
          <div class="date"><%= @month %>/<%= x.day %></div>
          <% end %>

          <div class="info">
            <% if x.con_id == 0 %>
                不提供訂位
            <% else %>
              <table class="clean-table">
                <% (1..6).each do |i| %>
                  <% unless x.method("n#{i}".to_sym).call.blank? %>
                    <tr>
                      <td><%= x.method("n#{i}".to_sym).call %></td>
                      <td style="text-align: right"><%= @books[i].method("zone#{i}".to_sym).call %>/ <%= x.method("z#{i}".to_sym).call %></td>
                    </tr>
                  <% end %>
                <% end %>
              </table>
            <% end %>
          </div>
        </td>

      <%= tag('/tr') if i % 7 == 6 %>

  <% end %>

</table>
<div id="show"></div>
<script>
  id_with_name = {
    15: 'name',
    32: '喵'
  };
</script>


